<script src=CT_Modeler.js></script>

<body bgcolor=white>
<center>
<canvas id='canvas1' width='480' height='480'></canvas>
</center>
</body>

<script>
   function getTime() { return (new Date()).getTime() / 1000; }

   var scene = new CT.Scene(canvas1);
   scene.setLight(0, [ 1, 1, 1]);
   scene.setLight(1, [-1,-1,-1], [.1, .05, 0]);

   var root = new CT.Cube();
   scene.add(root);
/*
   root.addChild(new CT.Torus(32, 16, .6));
*/
   //var shape1 = root.addChild(new CT.Cube());
   var shape1 = root.addChild(new CT.Disk(20,10));
   shape1.translate(1,0,0).scale([1,.3,.3]);
   shape1.setMetal(1,1,0);

   var joint = root.addChild(new CT.Disk(16,8));
   var shape2 = joint.addChild(new CT.Cylinder());


   var startTime = getTime();
   (function update() {
      CT.time = getTime() - startTime;
/*
      root.identity().rotateY(CT.time).scale(.3);
*/
      root.identity().translate(-.5,0,0).scale(.3);

      joint.identity().translate(2,0,0).rotateZ(Math.sin(CT.time));
      shape2.identity().translate(1,0,0).scale([1,.3,.3]).rotateY(Math.PI/2);
      //shape2.setPhong([.1,0,0, .5,0,.5+.5*Math.sin(10*CT.time), .5,.5,5,10]);
      shape2.setMetal(1,0,0);

      root.draw();

      setTimeout(update, 1000 / 60);
   })();
</script>

