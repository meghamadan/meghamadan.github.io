
{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="/static/css/component.css" />
<script src="/static/js/utility.js"></script>
<script src="/static/js/drawlib1.js"></script>
<script src="/static/js/matrix.js"></script>
<p>
<p>

<body bgcolor=black>
   <div id="div1">

      <nav class = "cl-effect-21">
         <a href="/graphics" class="active"> Back to Graphics Projects</a>
      </nav>

      <center>

      <br><br><br><br>
      <canvas id="canvas1" width=400 height=400></canvas>
      <p style="color: white;"><i> still working on adding the torso and head </i></p>

</center>
</div>
</body>



<script>
   var canvas;

   var matrix = new Matrix();

   var pt0 = new Vector3(-1, 0, 0);
   var pt1 = new Vector3( 1, 0, 0);
   var tmp = new Vector3( 0, 0, 0);

   var pix0 = new Vector3(0, 0, 0);
   var pix1 = new Vector3(0, 0, 0);

   function moveTo(x, y, z) {
      pt0.set(x, y, z);
      matrix.transform(pt0, tmp);
      tmp.viewportTransform(width, height, pix0);
      g.moveTo(pix0.x, pix0.y);
   }

   function lineTo(x, y, z) {
      pt0.set(x, y, z);
      matrix.transform(pt0, tmp);
      tmp.viewportTransform(width, height, pix0);
      g.lineTo(pix0.x, pix0.y);
   }


   var g;
   var width;
   var height;


   canvas = initCanvas('canvas1');
   canvas.update = function(_g) {
      g = _g;
      width = canvas.width;
      height = canvas.height;

      // OUTLINE AROUND CANVAS

      g.lineWidth = 2;
      g.strokeStyle = 'black';
      g.beginPath();
      g.moveTo(0, 0);
      g.lineTo(width, 0);
      g.lineTo(width, height);
      g.lineTo(0, height);
      g.lineTo(0, 0);
      g.stroke();
   


for (var side = -1 ; side <= 1 ; side += 2) {
      var rate = 1.5 * (2 * Math.PI);
      var angle0 = -.5 * Math.sin(rate * time);
      var angle1 =  .5 * Math.cos(rate * time);
      var angle2 = .7 * (-side + Math.sin(rate * time));


      // figure out how to add torso and head...

      matrix.identity();
      matrix.rotateY(.1); // want to see the hips

      g.lineJoin = 'round';
      g.lineCap = 'round';
      g.beginPath();

      matrix.translate(.5, -.4, 0);

      moveTo( 0, 0, 0);

      lineTo( 0, 0, 0);
      matrix.rotateX(.3 * angle0);

      matrix.scale(.7);

      matrix.translate(0, 0, .77 * side);

      lineTo( 0, 0, 0);
      matrix.rotateX(-.5 * angle0);

      matrix.rotateZ((-Math.PI/2 + angle1) * side);
      matrix.translate( .4 * side, 0, 0);

      lineTo( 0, 0, 0);

      matrix.rotateZ(angle2 * side);
      matrix.translate( .4 * side, 0, 0);

      lineTo( 0, 0, 0);

      matrix.rotateZ(.5 * angle2 * side);
      matrix.translate(0, .1 * side, 0);

      lineTo( 0, 0, 0);

      g.lineWidth = 20;
      g.strokeStyle = 'brown';
      g.stroke();




      // BIRDS
      var angle1 =  .3 + .7 * Math.cos(3 * time);
      var angle2 = -.5 + .5 * Math.sin(3 * time);

      matrix.identity();
      matrix.scale(.3);
      matrix.translate(angle1, 1.6, 0);

      g.lineJoin = 'round';
      g.lineCap = 'round';
      g.beginPath();

      moveTo( 0, 0, 0);

      matrix.rotateZ(angle1 * side);
      matrix.translate( .4 * side, 0, 0);

      lineTo( 0, 0, 0);

      matrix.rotateZ(angle2 * side);
      matrix.translate( .4 * side, 0, 0);

      lineTo( 0, 0, 0);

      g.lineWidth = 10;
      g.strokeStyle = 'green';
      g.stroke();




      matrix.identity();
      matrix.scale(.6);
      matrix.translate(angle2, angle1 + .2, 0);

      g.beginPath();

      matrix.translate(.1, .3, .1);

      moveTo( 0, 0, 0);

      matrix.rotateZ(angle1 * side);
      matrix.translate( .4 * side, 0, 0);

      lineTo( 0, 0, 0);

      matrix.rotateZ(angle2 * side);
      matrix.translate( .4 * side, 0, 0);

      lineTo( 0, 0, 0);

      g.lineWidth = 10;
      g.strokeStyle = 'blue';
      g.stroke();

}


   }
</script>

